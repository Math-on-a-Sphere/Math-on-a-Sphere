<!DOCTYPE html      PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  
    <title>Math On A Sphere</title>
    
    <script type="text/javascript" src="lib/js/jquery.js"></script>
    <script type="text/javascript" src="lib/js/fluidLite.js"></script>
    <script type="text/javascript" src="lib/js/jquery.terminal-0.3.6.js"></script>
    <script type="text/javascript" src="lib/js/gl-matrix.js"></script>
    <script type="text/javascript" src="lib/js/codemirror.js"></script>
    <script type="text/javascript" src="lib/mode/javascript/javascript.js"></script>
        
    <script type="text/javascript" src="js/geometry.js"></script>
    <script type="text/javascript" src="js/turtle.js"></script>
    <script type="text/javascript" src="js/commands.js"></script>
    <script type="text/javascript" src="js/executor.js"></script>
    <script type="text/javascript" src="js/webgl-utils.js"></script>
    <script type="text/javascript" src="js/preview.js"></script>
    <script type="text/javascript" src="js/client.js"></script>
    <link rel="stylesheet" media="screen" href="css/client.css" />

    <script type="text/javascript" src="js/calculator.js"></script>
    <script type="text/javascript" src="jison/grammar.js"></script>

    <link rel="stylesheet" media="screen" href="lib/css/jquery.terminal.css" />
    <link rel="stylesheet" href="lib/css/codemirror.css">
    <link rel="stylesheet" media="screen" href="lib/css/default.css">

    </head>

      <body>  
        <table>
          <tbody>
            <tr>
              <td style="vertical-align:top">
                <!-- command line interface -->
                <form><textarea id="code" class="code" name="code" style="border: none;" rows="30" cols="50"></textarea></form>
                <button id="button">compile</button>
                <div class="flc-math-commands unselectable"></div>
              </td>
              <td style="vertical-align:top">
                <!-- preview sphere canvas -->
                <canvas id="webgl-canvas" class="unselectable" style="border: none;" width="420" height="420"></canvas>
                <span>
                <input type="checkbox" id="lighting" checked /><label for="lighting">Use lighting</label>
                </span>
                <br/>
                Spin the moon by dragging it with the mouse.
              </td>
            </tr>
            <tr>
              <td colspan="2">
                <!-- preview image canvas -->
                <canvas width="1024" height="512" class="flc-canvas unselectable"></canvas>
              </td>
            </tr>
            <tr>
              <td colspan="2">
              <input type="button" value="Stop Command" class="flc-math-stop"/>

              Frame number: <span class="flc-math-frameNumber">&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;
              Frame rate: <span class="flc-math-frameRate">&nbsp;&nbsp;&nbsp;</span> fps&nbsp;&nbsp;&nbsp;
              Frame size: <span class="flc-math-frameSize">&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;
              Data rate: <span class="flc-math-dataRate">&nbsp;&nbsp;&nbsp;</span>KB/s
              <br/>
              Server status: <span class="flc-math-serverStatus">&nbsp;&nbsp;&nbsp;</span>
              <br/>
              Connect to server at: <input class="flc-math-serverUrl" type="text" value="server/postreceive"/>
              <input type="button" value="Connect" class="flc-math-connect" />
              <input type="button" value="Disconnect" class="flc-math-disconnect" />
              </td>
            </tr>
          </tbody>
        </table>

      <script>
        var client = org.weblogo.client("body");
        var preview = org.weblogo.preview.webGLStart("#webgl-canvas", ".flc-canvas", client);
        client.drawListener = preview.updateTexture;

        var myCodeMirror = CodeMirror(document.getElementById("code"), {
        lineNumbers: "true",
        mode: "javascript"
        });


        window.onload = function () {
        document.getElementById("button").onclick = function () {
        var code = $("#code").val();
        var value = grammar.parse(code);
        $("#code").val(value);
        };
        };        

        $(document).ready(function() {
         });

      </script>

  </body>
</html>  
